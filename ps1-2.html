<!DOCTYPE html>
<html>
<head lang="en">

  <!-- the title of the page -->
  <title> PS1-2 </title>

  <!-- the metadata of the page -->
  <meta charset="UTF-8">
  <meta name="description" content="CS135 PS1-2">
  <meta name="keywords" content="HTML,CSS, Javascript">
  <meta name="author" content="Marina Kent">

  <!-- internal css for the table -->
  <style>
    table, th, td {
        border: 1px solid black;
        border-collapse: collapse;
    }
    table {
      width: 35%;
    }
    td {
      width: 33.33%;
      position: relative;
    }
    td:after {
      content: '';
      display: block;
      margin-top: 100%;
    }

    .wrapper {
      text-align: center;
    }
  </style>
</head>

  <!-- the header - tells us what page is about  -->
  <header>
    <h1 align="center">Red Blue Tic Tac Toe</h1>
  </header>

  <!-- the body contains all of the content -->
  <body>

    <!-- a table, containing the red/blue tiles -->
    <table align="center"; id="myTable";>  <!-- class="white"; --> 
      <tr>
        <td id = '1'; onclick="cellClick(1); checkWin(1, 2, 3); checkWin(1, 5, 9); checkWin(1, 4, 7)"></td>
        <td id = '2'; onclick="cellClick(2); checkWin(2, 5, 8); checkWin(2, 1, 3)"></td>
        <td id = '3'; onclick="cellClick(3); checkWin(3, 2, 1); checkWin(3, 6, 9); checkWin(3, 5, 7)"></td>
      </tr>
      <tr>
        <td id = '4'; onclick="cellClick(4); checkWin(4, 1, 7); checkWin(4, 5, 6)"></td>
        <td id = '5'; onclick="cellClick(5); checkWin(5, 1, 9); checkWin(5, 3, 7); checkWin(5, 2, 8); checkWin(5, 4, 6)"></td>
        <td id = '6'; onclick="cellClick(6); checkWin(6, 3, 9); checkWin(6, 5, 4)"></td>
      </tr>
      <tr>
        <td id = '7'; onclick="cellClick(7); checkWin(7, 4, 1); checkWin(7, 8, 9); checkWin(7, 5, 3)"></td>
        <td id = '8'; onclick="cellClick(8); checkWin(8, 9, 7); checkWin(8, 5, 2)"></td>
        <td id = '9'; onclick="cellClick(9); checkWin(9, 8, 7); checkWin(9, 6, 3); checkWin(9, 1, 5)"></td>
      </tr>
    </table>

    <br>

    <div class="wrapper">
      <button type="button" onclick="reset()">New Game</button>
    </div>
    <script>
        var counter = 0;
        var redArray = [];
        var blueArray = [];
        var winner = "";
        var clicking = true;

// might need to switch colors, based off of which goes first
        function cellClick(cell) {
          if (clicking){
            if (counter % 2 == 0 && document.getElementById(cell).style.background !== "blue" && document.getElementById(cell).style.background !== "red"){
              document.getElementById(cell).style.background = "red";
              counter++;
              redArray.push(cell);
            } else if (document.getElementById(cell).style.background !== "red" && document.getElementById(cell).style.background !== "blue"){
              document.getElementById(cell).style.background = "blue";
              counter++;
              blueArray.push(cell);
            }
            if (redArray.length > 3){
              document.getElementById(redArray[0]).style.background = "white";
              redArray.shift();
            }
            if (blueArray.length > 3){
              document.getElementById(blueArray[0]).style.background = "white";
              blueArray.shift();
            }
            console.log(blueArray);
            console.log(redArray);
          }
        }

        function reset(){
          for (i = 1; i < 10; i++) { 
              document.getElementById(i).style.background = "white";
          }  
          blueArray = [];
          redArray = [];    
          clicking = true;   
          counter = 0;
        }

        function checkWin(x, y, z){
          var colorx = document.getElementById(x).style.background;
          var colory = document.getElementById(y).style.background;
          var colorz = document.getElementById(z).style.background;

          if (colorx === colory && colorx === colorz){
            winner = document.getElementById(x).style.background;
            gameOver();
          } 
        }
        function gameOver(){
          if (clicking) {
            window.alert(winner + " wins!");
          }
          clicking = false;
        }
    </script>


  </body>

</html>



